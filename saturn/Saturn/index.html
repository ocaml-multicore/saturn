<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Saturn (saturn.Saturn)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">saturn</a> &#x00BB; Saturn</nav><header class="odoc-preamble"><h1>Module <code><span>Saturn</span></code></h1><p>Parallelism-safe data structures for Multicore OCaml</p></header><nav class="odoc-toc"><ul><li><a href="#useful-information">Useful Information</a><ul><li><a href="#domain-specific-data-structures">Domain-Specific Data Structures</a></li><li><a href="#composability">Composability</a></li><li><a href="#unsafe-data-structures">Unsafe Data Structures</a></li></ul></li><li><a href="#data-structures">Data structures</a><ul><li><a href="#collections">Collections</a></li><li><a href="#queues">Queues</a></li><li><a href="#stacks">Stacks</a></li><li><a href="#work-stealing-deque">Work Stealing Deque</a></li></ul></li><li><a href="#other">Other</a></li></ul></nav><div class="odoc-content"><h2 id="useful-information"><a href="#useful-information" class="anchor"></a>Useful Information</h2><h3 id="domain-specific-data-structures"><a href="#domain-specific-data-structures" class="anchor"></a>Domain-Specific Data Structures</h3><p>Some data structures are optimized for specific domain configurations. These restrictions enhance performance but must be adhered to for maintaining safety properties. These limitations are documented and often reflected in the data structure's name. For example, a single-consumer queue should only have one domain performing `pop` operations at any time.</p><p>For more details, refer to this <a href="https://github.com/ocaml-multicore/saturn/blob/main/doc/domain-role.md"><code>document</code></a>.</p><h3 id="composability"><a href="#composability" class="anchor"></a>Composability</h3><p>Composability is the ability to combine functions while preserving their properties, such as atomic consistency (linearizability) and progress guarantees (e.g., lock-freedom). Saturn's data structures, however, are not composable.</p><p>For more details, refer to this <a href="https://github.com/ocaml-multicore/saturn/blob/main/doc/composability.md"><code>document</code></a>.</p><h3 id="unsafe-data-structures"><a href="#unsafe-data-structures" class="anchor"></a>Unsafe Data Structures</h3><p>Some data structures have both a normal and an <b>unsafe</b> version. The <b>unsafe</b> version uses `Obj.magic`, which can be unsafe, especially with flambda2 optimizations.</p><p>The unsafe version is provided to explore performance optimizations that require features not currently available in OCaml, such as arrays of atomics or atomic fields in records. These versions give an indication of the potential performance improvements when such features become available. It is recommended to use the normal version unless the performance requirements justify the risks associated with the unsafe version.</p><h2 id="data-structures"><a href="#data-structures" class="anchor"></a>Data structures</h2><h3 id="collections"><a href="#collections" class="anchor"></a>Collections</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Htbl"><a href="#module-Htbl" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Htbl/index.html">Htbl</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free and resizable hash table.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Htbl_unsafe"><a href="#module-Htbl_unsafe" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Htbl_unsafe/index.html">Htbl_unsafe</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Optimized lock-free and resizable hash table.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Skiplist"><a href="#module-Skiplist" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Skiplist/index.html">Skiplist</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free non-resizable skiplist.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bag"><a href="#module-Bag" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bag/index.html">Bag</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Randomized lock-free bag</p></div></div><h3 id="queues"><a href="#queues" class="anchor"></a>Queues</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Queue"><a href="#module-Queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Queue/index.html">Queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Michael-Scott classic lock-free multi-producer multi-consumer queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Queue_unsafe"><a href="#module-Queue_unsafe" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Queue_unsafe/index.html">Queue_unsafe</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Optimized Michael-Scott lock-free multi-producer multi-consumer queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bounded_queue"><a href="#module-Bounded_queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bounded_queue/index.html">Bounded_queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free bounded Queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bounded_queue_unsafe"><a href="#module-Bounded_queue_unsafe" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bounded_queue_unsafe/index.html">Bounded_queue_unsafe</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Optimized lock-free bounded Queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Single_consumer_queue"><a href="#module-Single_consumer_queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Single_consumer_queue/index.html">Single_consumer_queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free multi-producer, single-consumer, domain-safe queue without support for cancellation.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Single_prod_single_cons_queue"><a href="#module-Single_prod_single_cons_queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Single_prod_single_cons_queue/index.html">Single_prod_single_cons_queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free single-producer, single-consumer queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Single_prod_single_cons_queue_unsafe"><a href="#module-Single_prod_single_cons_queue_unsafe" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Single_prod_single_cons_queue_unsafe/index.html">Single_prod_single_cons_queue_unsafe</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Optimized lock-free single-producer, single-consumer queue.</p></div></div><h3 id="stacks"><a href="#stacks" class="anchor"></a>Stacks</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Stack"><a href="#module-Stack" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stack/index.html">Stack</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free multi-producer multi-consumer Treiber stack.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bounded_stack"><a href="#module-Bounded_stack" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bounded_stack/index.html">Bounded_stack</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free bounded stack.</p></div></div><h3 id="work-stealing-deque"><a href="#work-stealing-deque" class="anchor"></a>Work Stealing Deque</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Work_stealing_deque"><a href="#module-Work_stealing_deque" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Work_stealing_deque/index.html">Work_stealing_deque</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lock-free single-producer, multi-consumer dynamic-size double-ended queue (deque).</p></div></div><h2 id="other"><a href="#other" class="anchor"></a>Other</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Size"><a href="#module-Size" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Size/index.html">Size</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Wait-free size counter for lock-free data structures</p></div></div></div></body></html>
