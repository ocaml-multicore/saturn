<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bag (saturn.Saturn.Bag)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">saturn</a> &#x00BB; <a href="../index.html">Saturn</a> &#x00BB; Bag</nav><header class="odoc-preamble"><h1>Module <code><span>Saturn.Bag</span></code></h1><p>Randomized lock-free bag</p></header><nav class="odoc-toc"><ul><li><a href="#api">API</a></li><li><a href="#example">Example</a></li></ul></nav><div class="odoc-content"><h2 id="api"><a href="#api" class="anchor"></a>API</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>!'v t</span></span></code></div><div class="spec-doc"><p>Represents a lock-free bag of elements of type 'v</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'v</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>create ()</code> creates a new empty lock-free bag.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push"><a href="#val-push" class="anchor"></a><code><span><span class="keyword">val</span> push : <span><span><span class="type-var">'v</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'v</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>push bag elt</code> adds <code>elt</code> to the <code>bag</code>.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Empty"><a href="#exception-Empty" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Empty</span></span></code></div><div class="spec-doc"><p>Raised when <a href="#val-pop_exn"><code>pop_exn</code></a> is applied to an empty bag.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pop_exn"><a href="#val-pop_exn" class="anchor"></a><code><span><span class="keyword">val</span> pop_exn : <span><span><span class="type-var">'v</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'v</span></span></code></div><div class="spec-doc"><p><code>pop_exn bag</code> removes and returns a random element of the <code>bag</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Empty"><code>Empty</code></a> <p>if the <code>bag</code> is empty.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pop_opt"><a href="#val-pop_opt" class="anchor"></a><code><span><span class="keyword">val</span> pop_opt : <span><span><span class="type-var">'v</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'v</span> option</span></span></code></div><div class="spec-doc"><p><code>pop_opt bag</code> removes and returns <code>Some</code> of a random element of the <code>bag</code> and <code>None</code> if the <code>bag</code> is empty.</p></div></div><h2 id="example"><a href="#example" class="anchor"></a>Example</h2><pre class="language-ocaml"><code># Random.init 0
- : unit = ()
# module Bag = Saturn.Bag
module Bag = Saturn.Bag
# let t : string Bag.t = Bag.create ()
val t : string Bag.t = &lt;abstr&gt;

# let planets = [&quot;Mercury&quot;; &quot;Venus&quot;; &quot;Earth&quot;; &quot;Mars&quot;; &quot;Jupiter&quot;; &quot;Saturn&quot;; &quot;Uranus&quot;; &quot;Neptune&quot;]
val planets : string list =
  [&quot;Mercury&quot;; &quot;Venus&quot;; &quot;Earth&quot;; &quot;Mars&quot;; &quot;Jupiter&quot;; &quot;Saturn&quot;; &quot;Uranus&quot;;
   &quot;Neptune&quot;]
# List.iter (Bag.push t) planets
- : unit = ()
# Bag.pop_exn t
- : string = &quot;Neptune&quot;
# Bag.pop_opt t
- : string option = Some &quot;Saturn&quot;
# Bag.pop_exn t
- : string = &quot;Mercury&quot;
# Bag.pop_exn t
- : string = &quot;Mars&quot;
# Bag.pop_exn t
- : string = &quot;Earth&quot;
# Bag.pop_exn t
- : string = &quot;Venus&quot;
# Bag.pop_exn t
- : string = &quot;Uranus&quot;
# Bag.pop_exn t
- : string = &quot;Jupiter&quot;
# Bag.pop_exn t
Exception: Saturn__Bag.Empty.</code></pre></div></body></html>
